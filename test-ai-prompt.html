<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Prompt Test</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components/ai-prompt.css">
</head>
<body>
    <main>
        <div class="container-narrow">
            <h1>AI Prompt Functionality Test</h1>
            
            <!-- Test Cases -->
            <section class="test-section">
                <h2>Test Case 1: API Not Available</h2>
                <div class="ai-prompt">
                    <div class="ai-prompt__header">
                        <h3 class="ai-prompt__title">Session Reflection</h3>
                        <button id="test1-btn" class="ai-prompt__regenerate-btn">Regenerate</button>
                    </div>
                    <div class="ai-prompt__content">
                        <p class="ai-prompt__text" id="test1-text"></p>
                    </div>
                </div>
            </section>

            <section class="test-section">
                <h2>Test Case 2: No Context</h2>
                <div class="ai-prompt">
                    <div class="ai-prompt__header">
                        <h3 class="ai-prompt__title">Session Reflection</h3>
                        <button id="test2-btn" class="ai-prompt__regenerate-btn">Regenerate</button>
                    </div>
                    <div class="ai-prompt__content">
                        <p class="ai-prompt__text" id="test2-text"></p>
                    </div>
                </div>
            </section>

            <section class="test-section">
                <h2>Test Case 3: Loading State</h2>
                <div class="ai-prompt">
                    <div class="ai-prompt__header">
                        <h3 class="ai-prompt__title">Session Reflection</h3>
                        <button id="test3-btn" class="ai-prompt__regenerate-btn">Regenerate</button>
                    </div>
                    <div class="ai-prompt__content">
                        <p class="ai-prompt__text" id="test3-text"></p>
                    </div>
                </div>
            </section>

            <section class="test-section">
                <h2>Test Case 4: Success (Questions)</h2>
                <div class="ai-prompt">
                    <div class="ai-prompt__header">
                        <h3 class="ai-prompt__title">Session Reflection</h3>
                        <button id="test4-btn" class="ai-prompt__regenerate-btn">Regenerate</button>
                    </div>
                    <div class="ai-prompt__content">
                        <p class="ai-prompt__text" id="test4-text"></p>
                    </div>
                </div>
            </section>

            <section class="test-section">
                <h2>Test Case 5: Error State</h2>
                <div class="ai-prompt">
                    <div class="ai-prompt__header">
                        <h3 class="ai-prompt__title">Session Reflection</h3>
                        <button id="test5-btn" class="ai-prompt__regenerate-btn">Regenerate</button>
                    </div>
                    <div class="ai-prompt__content">
                        <p class="ai-prompt__text" id="test5-text"></p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script type="module">
        import { renderAIPrompt } from './js/journal-views.js';

        // Test Case 1: API Not Available
        const test1Text = document.getElementById('test1-text');
        const test1Btn = document.getElementById('test1-btn');
        renderAIPrompt(test1Text, { type: 'api-not-available' }, test1Btn);

        // Test Case 2: No Context
        const test2Text = document.getElementById('test2-text');
        const test2Btn = document.getElementById('test2-btn');
        renderAIPrompt(test2Text, { type: 'no-context' }, test2Btn);

        // Test Case 3: Loading State
        const test3Text = document.getElementById('test3-text');
        const test3Btn = document.getElementById('test3-btn');
        renderAIPrompt(test3Text, { type: 'loading' }, test3Btn);

        // Test Case 4: Success (Questions)
        const test4Text = document.getElementById('test4-text');
        const test4Btn = document.getElementById('test4-btn');
        const sampleQuestions = `Here are some reflection questions for your character:

1. What did your character learn about themselves during this latest adventure?
2. How has your relationship with your party members evolved?
3. What moral choices weigh heavily on your character's mind?
4. What goals or aspirations drive your character forward?
5. How does your character's past influence their current decisions?`;
        renderAIPrompt(test4Text, { type: 'questions', questions: sampleQuestions }, test4Btn);

        // Test Case 5: Error State
        const test5Text = document.getElementById('test5-text');
        const test5Btn = document.getElementById('test5-btn');
        renderAIPrompt(test5Text, { type: 'error' }, test5Btn);

        // Add some basic styling for test sections
        const style = document.createElement('style');
        style.textContent = `
            .test-section {
                margin-bottom: 2rem;
                padding: 1rem;
                border: 1px solid #e0e0e0;
                border-radius: 8px;
            }
            .test-section h2 {
                margin-top: 0;
                color: #333;
                font-size: 1.2rem;
            }
        `;
        document.head.appendChild(style);

        console.log('AI Prompt Test Page Loaded - All test cases rendered');
    </script>
</body>
</html>