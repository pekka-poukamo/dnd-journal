<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Journal Editor - D&D Journal</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="flex justify-between items-center">
                <div class="flex items-center gap-md">
                    <a href="index.html" class="button button--secondary">← Back to Dashboard</a>
                    <h1 id="page-title">New Journal Entry</h1>
                </div>
                <div class="flex gap-sm">
                    <button id="save-draft" class="button button--secondary">Save Draft</button>
                    <button type="submit" form="entry-form" class="button">Publish Entry</button>
                </div>
            </div>
        </div>
    </header>
    
    <main class="container">
        <form id="entry-form" class="grid gap-lg">
            <div class="form-group">
                <label for="title" class="form-label">Title</label>
                <input type="text" id="title" name="title" class="form-input" 
                       placeholder="Enter entry title..." required>
            </div>
            
            <div class="grid grid--two-col gap-lg">
                <div class="form-group">
                    <label for="type" class="form-label">Entry Type</label>
                    <select id="type" name="type" class="form-input">
                        <option value="session">Session Notes</option>
                        <option value="character">Character Development</option>
                        <option value="note">Quick Note</option>
                        <option value="npc">NPC Profile</option>
                        <option value="location">Location</option>
                        <option value="item">Item/Equipment</option>
                        <option value="lore">Campaign Lore</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="character-select" class="form-label">Character</label>
                    <select id="character-select" name="characterId" class="form-input">
                        <option value="">Select Character (Optional)</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="tags" class="form-label">Tags</label>
                <input type="text" id="tags" name="tags" class="form-input" 
                       placeholder="combat, tavern, mystery (comma-separated)">
                <small class="form-help">Add tags to help organize and find your entries later</small>
            </div>
            
            <div class="form-group">
                <label for="editor" class="form-label">Content</label>
                <div class="editor-toolbar">
                    <button type="button" id="bold-btn" class="button button--small" title="Bold">
                        <strong>B</strong>
                    </button>
                    <button type="button" id="italic-btn" class="button button--small" title="Italic">
                        <em>I</em>
                    </button>
                    <button type="button" id="heading-btn" class="button button--small" title="Heading">
                        H3
                    </button>
                    <button type="button" id="list-btn" class="button button--small" title="Bullet List">
                        •
                    </button>
                    <div class="toolbar-divider"></div>
                    <button type="button" id="link-btn" class="button button--small" title="Add Link">
                        Link
                    </button>
                    <button type="button" id="image-btn" class="button button--small" title="Add Image">
                        Img
                    </button>
                </div>
                <div id="editor" class="editor" contenteditable="true" 
                     placeholder="Start writing your journal entry...">
                </div>
                <div class="editor-footer">
                    <span id="word-count" class="editor-stats">0 words</span>
                    <span id="auto-save-status" class="editor-status"></span>
                </div>
            </div>
        </form>
    </main>

    <!-- Link Modal -->
    <div id="link-modal" class="modal hidden">
        <div class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Add Link</h3>
                    <button id="close-link-modal" class="button button--secondary">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="link-text" class="form-label">Link Text:</label>
                        <input type="text" id="link-text" class="form-input" placeholder="Enter link text">
                    </div>
                    <div class="form-group">
                        <label for="link-url" class="form-label">URL:</label>
                        <input type="url" id="link-url" class="form-input" placeholder="https://example.com">
                    </div>
                </div>
                <div class="modal-actions">
                    <button id="insert-link" class="button">Insert Link</button>
                    <button id="cancel-link" class="button button--secondary">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Modal -->
    <div id="image-modal" class="modal hidden">
        <div class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Add Image</h3>
                    <button id="close-image-modal" class="button button--secondary">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="image-url" class="form-label">Image URL:</label>
                        <input type="url" id="image-url" class="form-input" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-group">
                        <label for="image-alt" class="form-label">Alt Text:</label>
                        <input type="text" id="image-alt" class="form-input" placeholder="Describe the image">
                    </div>
                </div>
                <div class="modal-actions">
                    <button id="insert-image" class="button">Insert Image</button>
                    <button id="cancel-image" class="button button--secondary">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/pages/Journal.js"></script>
</body>
</html>