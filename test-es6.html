<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ES6 Module Test</title>
</head>
<body>
    <h1>ES6 Module Test</h1>
    <div id="output"></div>

    <script type="module">
        import { STORAGE_KEYS, generateId, formatDate } from './js/utils.js';
        import { loadAISettings, isAIEnabled } from './js/ai.js';
        import { getSummaryStats } from './js/summarization.js';
        import { createYjsSync } from './js/sync.js';

        const output = document.getElementById('output');
        
        try {
            // Test utils
            output.innerHTML += '<h2>Utils Module Test</h2>';
            output.innerHTML += `<p>STORAGE_KEYS: ${JSON.stringify(STORAGE_KEYS)}</p>`;
            output.innerHTML += `<p>generateId(): ${generateId()}</p>`;
            output.innerHTML += `<p>formatDate(): ${formatDate(Date.now())}</p>`;
            
            // Test AI
            output.innerHTML += '<h2>AI Module Test</h2>';
            output.innerHTML += `<p>loadAISettings(): ${JSON.stringify(loadAISettings())}</p>`;
            output.innerHTML += `<p>isAIEnabled(): ${isAIEnabled()}</p>`;
            
            // Test Summarization
            output.innerHTML += '<h2>Summarization Module Test</h2>';
            output.innerHTML += `<p>getSummaryStats(): ${JSON.stringify(getSummaryStats())}</p>`;
            
            // Test Sync
            output.innerHTML += '<h2>Sync Module Test</h2>';
            const sync = createYjsSync();
            output.innerHTML += `<p>createYjsSync().isAvailable: ${sync.isAvailable}</p>`;
            
            output.innerHTML += '<h2>✅ All ES6 modules loaded successfully!</h2>';
            
        } catch (error) {
            output.innerHTML += `<h2>❌ Error: ${error.message}</h2>`;
            output.innerHTML += `<pre>${error.stack}</pre>`;
        }
    </script>
</body>
</html>