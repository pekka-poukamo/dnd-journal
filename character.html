<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Character Management - D&D Journal</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="flex justify-between items-center">
                <div class="flex items-center gap-md">
                    <a href="index.html" class="button button--secondary">‚Üê Back to Dashboard</a>
                    <h1>Character Management</h1>
                </div>
                <button id="new-character-btn" class="button">+ New Character</button>
            </div>
        </div>
    </header>
    
    <main class="container">
        <div class="grid gap-lg">
            <!-- Character Form (hidden by default) -->
            <section id="character-form-section" class="character-form hidden">
                <div class="flex justify-between items-center">
                    <h2 id="form-title">Create New Character</h2>
                    <button id="cancel-form" class="button button--secondary">Cancel</button>
                </div>
                
                <form id="character-form" class="grid gap-lg">
                    <div class="grid grid--two-col gap-lg">
                        <div class="form-group">
                            <label for="character-name" class="form-label">Character Name</label>
                            <input type="text" id="character-name" name="name" class="form-input" 
                                   placeholder="Enter character name..." required>
                        </div>
                        
                        <div class="form-group">
                            <label for="character-level" class="form-label">Level</label>
                            <input type="number" id="character-level" name="level" class="form-input" 
                                   min="1" max="20" value="1">
                        </div>
                    </div>
                    
                    <div class="grid grid--two-col gap-lg">
                        <div class="form-group">
                            <label for="character-race" class="form-label">Race</label>
                            <select id="character-race" name="race" class="form-input">
                                <option value="">Select Race</option>
                                <option value="Human">Human</option>
                                <option value="Elf">Elf</option>
                                <option value="Dwarf">Dwarf</option>
                                <option value="Halfling">Halfling</option>
                                <option value="Dragonborn">Dragonborn</option>
                                <option value="Gnome">Gnome</option>
                                <option value="Half-Elf">Half-Elf</option>
                                <option value="Half-Orc">Half-Orc</option>
                                <option value="Tiefling">Tiefling</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="character-class" class="form-label">Class</label>
                            <select id="character-class" name="class" class="form-input">
                                <option value="">Select Class</option>
                                <option value="Barbarian">Barbarian</option>
                                <option value="Bard">Bard</option>
                                <option value="Cleric">Cleric</option>
                                <option value="Druid">Druid</option>
                                <option value="Fighter">Fighter</option>
                                <option value="Monk">Monk</option>
                                <option value="Paladin">Paladin</option>
                                <option value="Ranger">Ranger</option>
                                <option value="Rogue">Rogue</option>
                                <option value="Sorcerer">Sorcerer</option>
                                <option value="Warlock">Warlock</option>
                                <option value="Wizard">Wizard</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-traits" class="form-label">Personality Traits</label>
                        <input type="text" id="character-traits" name="traits" class="form-input" 
                               placeholder="brave, curious, stubborn (comma-separated)">
                        <small class="form-help">Describe your character's key personality traits</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-backstory" class="form-label">Backstory</label>
                        <textarea id="character-backstory" name="backstory" class="form-input" 
                                  rows="6" placeholder="Write your character's background story..."></textarea>
                        <small class="form-help">This will be used by the AI assistant for better roleplay suggestions</small>
                    </div>
                    
                    <div class="flex gap-sm justify-between">
                        <div class="flex gap-sm">
                            <button type="submit" class="button">Save Character</button>
                            <button type="button" id="set-current" class="button button--secondary">Set as Current</button>
                        </div>
                        <button type="button" id="delete-character" class="button button--danger hidden">Delete Character</button>
                    </div>
                </form>
            </section>
            
            <!-- Character List -->
            <section>
                <div class="flex justify-between items-center">
                    <h2>Your Characters</h2>
                    <div class="flex gap-sm">
                        <select id="sort-characters" class="form-input" style="width: auto;">
                            <option value="name">Sort by Name</option>
                            <option value="level">Sort by Level</option>
                            <option value="created">Sort by Created</option>
                        </select>
                        <select id="filter-class" class="form-input" style="width: auto;">
                            <option value="">All Classes</option>
                        </select>
                    </div>
                </div>
                
                <div id="characters-list" class="character-list"></div>
            </section>
            
            <!-- Character Details (when a character is selected) -->
            <section id="character-details" class="hidden">
                <h2>Character Details</h2>
                <div id="character-details-content"></div>
            </section>
        </div>
    </main>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal hidden">
        <div class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Delete Character</h3>
                    <button id="close-delete-modal" class="button button--secondary">&times;</button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete <strong id="delete-character-name"></strong>?</p>
                    <p>This action cannot be undone. All journal entries linked to this character will remain but lose their character association.</p>
                </div>
                <div class="modal-actions">
                    <button id="confirm-delete" class="button button--danger">Delete Character</button>
                    <button id="cancel-delete" class="button button--secondary">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/pages/Character.js"></script>
</body>
</html>